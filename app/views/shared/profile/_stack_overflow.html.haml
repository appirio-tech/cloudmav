- if @stack_overflow_profile || can?(:set_stack_overflow_profile, @profile)
  .info_box#stack_overflow_info
    .info_logo
      = link_to image_tag("stack_over_flow_info_logo.png"), "http://www.stackoverflow.com"
      -if can?(:set_stack_overflow_profile, @profile) && @stack_overflow_profile
        .edit
          %a{:rel => "#sync_stack_overflow"} edit
    .info
      - if @stack_overflow_profile
        = link_to "Go to my StackOverflow Profile", @stack_overflow_profile.url, :target => "_blank"
        %table
          %tr
            %td Reputation
            %td= @stack_overflow_profile.reputation
          %tr
            %td Badges
            %td= stack_overflow_badges(@stack_overflow_profile)
        
      - else
        - if can? :set_stack_overflow_profile, @profile
          - @stack_overflow_profile = StackOverflowProfile.new
          %p{:id => :add_stack_overflow_section} 
            Do you have a StackOverflow account? 
            %a{:rel => "#sync_stack_overflow"} Yes
      #sync_stack_overflow.overlay
        = render :partial => "stack_overflow_profiles/form"
  .clear
